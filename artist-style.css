/* ---------- base ---------- */
:root{
  --accent:#ff66c4;
  --bg1: #0b0512;
  --bg2: #1a0b24;
  --glass: rgba(255,255,255,0.06);
  --card-bg: #171717;
  --muted: #bdbdbd;
  --max-width: 1200px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: "Poppins",system-ui,Arial;
  color:white;
  background: linear-gradient(120deg,#0f0226 0%, #2b002b 50%, #0b0b1a 100%);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
/* nav links */
.nav-links { display: flex; list-style: none; 
flex-wrap: wrap;}
.nav-links li { margin: 0 10px; }
.nav-links a {
  text-decoration: none;
  color: white;
  transition: color 0.3s;
}
.nav-links a:hover { color: #ff66c4; }
#search {
  padding: 5px 10px;
  border-radius: 8px;
  border: none;}

/* ---------- topbar ---------- */
.topbar{
  position:sticky; top:0; z-index:60;
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 20px; gap:12px;
  background:rgba(0,0,0,0.45);
  backdrop-filter: blur(6px);
}
.brand{font-weight:700; color:var(--accent); font-size:1.15rem}
.controls{display:flex;gap:10px;align-items:center}
#searchInput{
  background:rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.06);
  color:#fff; padding:8px 12px; border-radius:12px; width:220px;
}
.btn{background:linear-gradient(90deg,var(--accent),#7f00ff);border:none;color:white;padding:8px 12px;border-radius:12px;cursor:pointer}
.btn.small{padding:6px 10px;font-size:0.9rem}
.btn.tiny, .tiny{padding:6px 8px;font-size:0.85rem;border-radius:8px}

/* theme toggle */
.theme-switch{position:relative; width:46px;height:26px; display:inline-block}
.theme-switch input{display:none}
.theme-switch .slider{
  position:absolute; inset:0; background:linear-gradient(90deg,#222,#444); border-radius:999px; cursor:pointer;
}
.theme-switch .slider::after{
  content:""; width:20px;height:20px; background:#fff; border-radius:50%; position:absolute; left:3px; top:3px; transition:all .28s;
}
.theme-switch input:checked + .slider{ background: linear-gradient(90deg,#ffd9f8,#ffe8b0) }
.theme-switch input:checked + .slider::after{ transform:translateX(20px); background:var(--accent) }

/* ---------- stage animated lines ---------- */
.stage-anim{position:fixed; top:0; left:0; right:0; height:6px; z-index:10; pointer-events:none}
.stage-anim .line{height:2px; margin:2px 0; opacity:0.9; background:linear-gradient(90deg, rgba(255,102,196,0.9), rgba(127,0,255,0.9)); transform:translateX(-20%); animation:stageMove 6s linear infinite}
.stage-anim .l2{animation-duration:8s; opacity:0.7}
.stage-anim .l3{animation-duration:10s; opacity:0.5}
@keyframes stageMove{ 0%{transform:translateX(-30%)} 100%{transform:translateX(120%)} }

/* ---------- layout ---------- */
.wrap{max-width:var(--max-width); margin:80px auto 60px; padding:0 18px}
.intro{text-align:center; margin-bottom:26px}
.intro h1{font-size:2.2rem; margin-bottom:8px}
.subtitle{color:var(--muted)}

/* ---------- group grid ---------- */
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
  gap:18px;
  margin:18px 0 32px;
}
.group-card{
  background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  border-radius:14px; padding:12px; display:flex; flex-direction:column; gap:8px;
  box-shadow:0 6px 18px rgba(0,0,0,0.45); transition:transform .28s, box-shadow .28s;
}
.group-card img{width:100%; height:170px; object-fit:cover; border-radius:10px; display:block}
.group-card h3{margin:6px 0; color:var(--accent)}
.group-card p{color:var(--muted); font-size:0.95rem}
.card-actions{display:flex; gap:8px; margin-top:auto}
.open-group{flex:1}
.preview-btn{background:rgba(0,0,0,0.3); border:1px solid rgba(255,255,255,0.06)}

/* hover */
.group-card:hover{transform:translateY(-8px); box-shadow:0 18px 40px rgba(127,0,255,0.15)}

/* ---------- details area ---------- */
.details{margin-top:30px; padding:18px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; min-height:200px}
.group-header{display:flex; gap:16px; align-items:center; flex-wrap:wrap}
.group-banner{flex: 1 1 260px; min-width:220px; max-width:480px; border-radius:12px; overflow:hidden}
.banner-img{width:100%; height:280px; object-fit:cover; display:block}
.group-meta{flex:2 1 400px}
.group-meta h2{color:var(--accent); margin-bottom:6px}
.group-controls{margin-top:10px; display:flex; gap:10px; align-items:center}
.play-track{background:linear-gradient(90deg,var(--accent),#7f00ff); padding:8px 12px; border-radius:10px; color:#fff; border:none}

/* ---------- member cards (flip) ---------- */
.member-grid{display:grid; gap:14px; grid-template-columns: repeat(auto-fit,minmax(160px,1fr)); margin-top:18px}
.flip-card{perspective:1000px}
.flip-inner{position:relative; width:100%; height:240px; transform-style:preserve-3d; transition: transform .6s}
.flip-card:hover .flip-inner{transform:rotateY(180deg)}
.flip-front, .flip-back{
  position:absolute; inset:0; backface-visibility:hidden; border-radius:12px; overflow:hidden;
}
.flip-front{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); display:flex; flex-direction:column; align-items:center}
.flip-front img{width:100%; height:150px; object-fit:cover}
.flip-front h4{margin:8px 0; color:var(--accent)}
.flip-back{transform:rotateY(180deg); padding:12px; background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(127,0,255,0.15)); color:#fff}

/* ---------- carousel for songs (simple) ---------- */
.song-carousel{display:flex; gap:10px; overflow:auto; padding:10px 6px; margin-top:14px}
.song-item{min-width:180px; background:rgba(255,255,255,0.03); padding:10px; border-radius:10px; display:flex; gap:10px; align-items:center}
.song-item img{width:56px;height:56px;object-fit:cover;border-radius:6px}
.song-item button{margin-left:auto}

/* ---------- fan box ---------- */
.extras{display:grid; grid-template-columns: 1fr 360px; gap:18px; margin-top:32px; align-items:start}
@media (max-width:980px){ .extras{grid-template-columns:1fr} .group-meta{order:2} }
.fanbox{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:12px; border-radius:12px}
.fanbox textarea{width:100%; min-height:90px; padding:10px; border-radius:10px; background:rgba(255,255,255,0.03); color:#fff; border:none}
.fan-actions{display:flex; gap:8px; margin-top:8px}
.fanList{list-style:none; margin-top:12px; padding-left:0; max-height:180px; overflow:auto}

/* ---------- bias result ---------- */
.biasResult{margin-top:12px; background:rgba(255,255,255,0.03); padding:12px; border-radius:10px; color:#fff}

/* ---------- mini player ---------- */
.mini-player{
  position:fixed; right:18px; bottom:18px; background:linear-gradient(90deg,var(--accent),#7f00ff);
  color:#fff; padding:8px 12px; border-radius:999px; display:flex; gap:8px; align-items:center; z-index:70; box-shadow:0 8px 30px rgba(127,0,255,0.2)
}
.mini-player .tiny{background:transparent;border:none;color:#fff;cursor:pointer}

/* ---------- modal ---------- */
.modal{position:fixed; inset:0; background:rgba(0,0,0,0.75); display:flex; align-items:center; justify-content:center; z-index:120; opacity:0; pointer-events:none; transition:opacity .25s}
.modal.show{opacity:1; pointer-events:auto}
.modal-inner{background:#0d0620; color:#fff; border-radius:12px; width:92%; max-width:680px; padding:18px; position:relative}
.modal .close{position:absolute; right:12px; top:12px; border:none; background:transparent; color:#fff; font-size:18px}

/* ---------- utility ---------- */
.tiny{font-size:0.85rem; padding:6px 8px}
.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}
.small{padding:6px 8px}
a{color:inherit}

/* ---------- animations & responsive ---------- */
@media (max-width:880px){
  .group-header{flex-direction:column}
  .banner-img{height:200px}
}
@media (max-width:560px){
  .topbar{padding:10px}
  #searchInput{width:130px}
  .group-card img{height:150px}
  .flip-inner{height:200px}
}

/* ---------- light mode overrides (JS toggled) ---------- */
.light-mode{
  --bg1:#fff; --bg2:#fff; --card-bg:#fff; --muted:#333; color:#111;
  background: linear-gradient(120deg,#fff1f9 0%, #fffaf0 50%, #fff1fb 100%);
}
.light-mode .group-card{background:rgba(0,0,0,0.03); color:#111}
.light-mode .details{background:transparent}
.light-mode .fanbox textarea{background:#fff}